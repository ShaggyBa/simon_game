(function(){"use strict";var e={475:function(e,t,n){var i=n(6369),a=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("Game")],1)},s=[],u=function(){var e=this,t=e._self._c;return t("div",{staticClass:"simon-game"},[t("h1",[e._v(e._s(e.title))]),e.isGameOver?t("div",{staticClass:"game-over"},[t("h2",[e._v("Game Over!")]),t("h2",[e._v("Your score: "+e._s(e.round))])]):e._e(),t("div",{staticClass:"buttons"},e._l(e.buttons,(function(n,i){return t("button",{key:i,class:[e.getButtonClass(n),{active:n===e.activeButton}],style:{"--animation-duration":e.animationDuration,cursor:e.isPlayingSequence||e.isRoundOver?"not-allowed":"pointer","pointer-events":!e.isPlayingSequence&&e.canPlay?"auto":"none"},on:{click:function(t){return e.onHandleClickPlayer(n)}}})})),0),t("div",{staticClass:"player-ui"},[e.isGameBegin?e._e():t("ul",{staticClass:"game-options"},[t("p",[e._v("Сложность: ")]),t("li",{class:{active:0===e.gameDifficult},on:{click:function(t){return e.setGameDifficult(0)}}},[e._v("легкая")]),t("li",{class:{active:1===e.gameDifficult},on:{click:function(t){return e.setGameDifficult(1)}}},[e._v("средняя")]),t("li",{class:{active:2===e.gameDifficult},on:{click:function(t){return e.setGameDifficult(2)}}},[e._v("трудная")])]),t("div",{staticClass:"game-stats"},[0===e.round||e.isGameOver?e._e():t("h2",[e._v("Round: "+e._s(e.round))]),0===e.round||e.isGameOver?t("button",{on:{click:e.startGame}},[e._v("Start game")]):e.isGameOver?e._e():t("button",{attrs:{disabled:!e.isRoundOver||e.isPlayingSequence},on:{click:e.nextRound}},[e._v("Next round ")])])])])},o=[],r=(n(560),n.p+"media/red.f8787782.mp3"),l=n.p+"media/green.24dad8aa.mp3",c=n.p+"media/blue.b3895e4c.mp3",h=n.p+"media/yellow.b48f1000.mp3",f=n.p+"media/end.b25ab633.mp3",d={name:"SimonGame",data(){return{title:"Simon The Game",buttons:["Red","Green","Blue","Yellow"],sequence:[],playerSequence:[],activeButton:null,round:0,isGameBegin:!1,isGameOver:!1,isRoundOver:!0,canPlay:!1,isPlayingSequence:!1,gameDifficult:0,animationDuration:"1.5s"}},methods:{async startGame(){switch(this.isGameOver=!1,this.isGameBegin=!0,this.gameDifficult){case 0:this.animationDuration="1.5s";break;case 1:this.animationDuration="1s";break;case 2:this.animationDuration="0.4s";break}this.round=0,await this.nextRound()},setGameDifficult(e){this.gameDifficult=e},generateSequence(){for(let e=this.sequence.length;e<this.round;e++){const e=Math.floor(Math.random()*this.buttons.length);this.sequence.push(this.buttons[e])}},async playSequence(){this.isPlayingSequence=!0,this.isRoundOver=!1;for(const e of this.sequence)await this.playButton(e).then((()=>this.stopPlayButton())),await new Promise((e=>setTimeout(e,1e3*this.animationDuration.split("s")[0]/2)));this.canPlay=!0},playButton(e){return this.activeButton=e,this.isPlayingSequence=!0,this.playButtonSound(e),new Promise((e=>{setTimeout((()=>{this.stopPlayButton(),e()}),1e3*this.animationDuration.split("s")[0])}))},playButtonSound(e){let t=null;switch(e){case"Red":t=new Audio(r),t.play();break;case"Green":t=new Audio(l),t.play();break;case"Blue":t=new Audio(c),t.play();break;case"Yellow":t=new Audio(h),t.play();break}},stopPlayButton(){this.activeButton=null,this.isPlayingSequence=!1},onHandleClickPlayer(e){console.log(this.isPlayingSequence),!this.isPlayingSequence&&this.canPlay&&(this.isRoundOver||(this.activeButton=null,this.playerSequence.length<this.sequence.length?(this.playerSequence.push(e),this.playButton(e),this.isValidSequence()?this.playerSequence.length===this.sequence.length&&(this.isRoundOver=!0,this.playerSequence=[]):this.handleGameOver()):this.isRoundOver=!0))},async nextRound(){this.activeButton=null,this.canPlay=!1,await new Promise((e=>setTimeout(e,100))),this.round++,this.generateSequence(),await this.playSequence()},isValidSequence(){for(let e=0;e<this.playerSequence.length;e++)if(this.playerSequence[e]!==this.sequence[e])return!1;return!0},handleGameOver(){this.playerSequence=[],this.sequence=[],this.isRoundOver=!0,this.activeButton=null,this.isGameOver=!0,this.isGameBegin=!1;const e=new Audio(f);e.play()},getButtonClass(e){return e.toLowerCase()}}},m=d,p=n(1001),v=(0,p.Z)(m,u,o,!1,null,"74bb16d7",null),y=v.exports,g={name:"App",components:{Game:y}},b=g,q=(0,p.Z)(b,a,s,!1,null,null,null),w=q.exports;i.ZP.config.productionTip=!1,new i.ZP({render:e=>e(w)}).$mount("#app")}},t={};function n(i){var a=t[i];if(void 0!==a)return a.exports;var s=t[i]={exports:{}};return e[i].call(s.exports,s,s.exports,n),s.exports}n.m=e,function(){var e=[];n.O=function(t,i,a,s){if(!i){var u=1/0;for(c=0;c<e.length;c++){i=e[c][0],a=e[c][1],s=e[c][2];for(var o=!0,r=0;r<i.length;r++)(!1&s||u>=s)&&Object.keys(n.O).every((function(e){return n.O[e](i[r])}))?i.splice(r--,1):(o=!1,s<u&&(u=s));if(o){e.splice(c--,1);var l=a();void 0!==l&&(t=l)}}return t}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[i,a,s]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.p="/"}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,i){var a,s,u=i[0],o=i[1],r=i[2],l=0;if(u.some((function(t){return 0!==e[t]}))){for(a in o)n.o(o,a)&&(n.m[a]=o[a]);if(r)var c=r(n)}for(t&&t(i);l<u.length;l++)s=u[l],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(c)},i=self["webpackChunkfrontdev_task2"]=self["webpackChunkfrontdev_task2"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=n.O(void 0,[998],(function(){return n(475)}));i=n.O(i)})();
//# sourceMappingURL=app.be3262d1.js.map